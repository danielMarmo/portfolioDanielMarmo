import"./darkmode-Bcsfe4g-.js";let n=[];const r="675b13cead19ca34f8da0d99",c="$2a$10$1tb.LqxA5Bznk0fa5HaBye14/OgHPZzvJjKgjohMVU0Rea1MdJvQq",u=`https://api.jsonbin.io/v3/b/${r}`;fetch(u,{headers:{"X-Master-Key":c}}).then(e=>{if(!e.ok)throw new Error("Error al cargar el archivo JSON");return e.json()}).then(e=>{n=e.record.record,i(n)}).catch(e=>{console.error("Hubo un problema:",e)});function i(e){document.getElementById("nombre").value=e.nombre,document.getElementById("puesto").value=e.puesto,document.getElementById("estado").value=e.estado,document.getElementById("ubicacion").value=e.ubicacion,document.getElementById("fotoPerfil").value=e.fotoPerfil,document.getElementById("linkedin").value=e.redesSociales.linkedin,document.getElementById("github").value=e.redesSociales.github,document.getElementById("gmail").value=e.redesSociales.gmail,document.getElementById("x").value=e.redesSociales.x;const t=document.getElementById("tecnologias");t.innerHTML="",e.tecnologias.forEach(a=>{const l=document.createElement("li");l.textContent=a;const o=document.createElement("button");o.textContent="x",o.style.marginLeft="10px",o.style.padding="5px 10px",o.onclick=()=>g(a),l.appendChild(o),t.appendChild(l)});const d=document.getElementById("skills");d.innerHTML="",e.skills.forEach(a=>{const l=document.createElement("li");l.textContent=a;const o=document.createElement("button");o.textContent="x",o.style.marginLeft="10px",o.style.padding="5px 10px",o.onclick=()=>v(a),l.appendChild(o),d.appendChild(l)})}function s(){const e=document.getElementById("nuevaTecnologia").value.trim();e?(n.tecnologias.push(e),document.getElementById("nuevaTecnologia").value="",i(n)):alert("Por favor, ingresa una tecnología válida.")}window.agregarTecnologia=s;function m(){const e=document.getElementById("nuevaHabilidad").value.trim();e?(n.skills.push(e),document.getElementById("nuevaHabilidad").value="",i(n)):alert("Por favor, ingresa una habilidad válida.")}window.agregarHabilidad=m;function g(e){const t=n.tecnologias.indexOf(e);t!==-1&&(n.tecnologias.splice(t,1),i(n))}function v(e){const t=n.skills.indexOf(e);t!==-1&&(n.skills.splice(t,1),i(n))}document.getElementById("formularioPerfil").addEventListener("submit",f);function f(e){e.preventDefault(),n={nombre:document.getElementById("nombre").value,puesto:document.getElementById("puesto").value,estado:document.getElementById("estado").value,ubicacion:document.getElementById("ubicacion").value,fotoPerfil:document.getElementById("fotoPerfil").value,redesSociales:{linkedin:document.getElementById("linkedin").value,github:document.getElementById("github").value,gmail:document.getElementById("gmail").value,x:document.getElementById("x").value},tecnologias:[...n.tecnologias],skills:[...n.skills]},fetch(u,{method:"PUT",headers:{"Content-Type":"application/json","X-Master-Key":c},body:JSON.stringify({record:n})}).then(t=>{if(!t.ok)throw new Error("Error al guardar los datos en el JSON");return t.json()}).then(t=>{console.log("Datos actualizados:",t)}).catch(t=>{console.error("Hubo un problema al guardar los datos:",t)})}
